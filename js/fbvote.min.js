function getRandomInt(e,t){return Math.floor(Math.random()*(t-e+1))+e}function statusChangeCallback(e){"connected"===e.status?startApp():document.getElementById("status").innerHTML="not_authorized"===e.status?"Please log into this app.":"Please log into Facebook."}function checkLoginState(){FB.getLoginStatus(function(e){statusChangeCallback(e)})}function startApp(){FB.api("/me",function(e){document.getElementById("status").innerHTML="Thanks for logging in, "+e.name+"!",$("#logInStuff").fadeOut(200),$("#voteSettings").fadeIn(250)})}function validatePost(){FB.api(currentValues.pageID+"_"+currentValues.postID+"/reactions?limit=1000",function(e){e.error?(console.log("error loading post"),$("#voteSettings").show(),$("#sm").text("invalid Post ID").show().fadeOut(5e3)):realTimeReactions()})}function realTimeReactions(){FB.api(currentValues.pageID+"_"+currentValues.postID+"/reactions?limit=1000",function(e){if(e.error)console.log("error loading post"),$("#voteSettings").fadeIn(250),$("#sm").text("Error Loading Post").show().fadeOut(3e3);else{if(e.data.length<1)return void setTimeout(realTimeReactions,2500);voteArrayCounter(e.data,e.paging.next)}})}function voteArrayCounter(e,t){return $.each(e,function(){reactCount++}),t&&unlocksNeeded>reactCount?(pageLoop(t),"loop"):(applyVotes(),"applied")}function pageLoop(e){$.getJSON(e,function(e){voteArrayCounter(e.data,e.paging.next)})}function applyVotes(){var e=unlocksNeeded-reactCount;if(0>=e)e=0,$(".barfill").css("width","100%"),$(".countText").text("UNLOCKED!!!!!!");else{var t=parseInt(reactCount/unlocksNeeded*100);$(".barfill").animate({width:t+"%"},800,function(){}),$(".countText").text(reactCount+" OF "+unlocksNeeded),reactCount=0,setTimeout(realTimeReactions,2e3)}}var appID="1780509962264342",currentValues={pageID:"",postID:""},unlocksNeeded=5,reactCount=0;window.fbAsyncInit=function(){FB.init({appId:appID,cookie:!0,xfbml:!0,version:"v2.8"}),FB.getLoginStatus(function(e){statusChangeCallback(e)})},function(e,t,n){var a,o=e.getElementsByTagName(t)[0];e.getElementById(n)||(a=e.createElement(t),a.id=n,a.src="//connect.facebook.net/en_US/sdk.js",o.parentNode.insertBefore(a,o))}(document,"script","facebook-jssdk"),$("#postIDval").keypress(function(e){return 13==e.which?(e.preventDefault(),event.preventDefault,$("#savebutt").click(),!1):void 0}),$("#savebutt").click(function(){currentValues.pageID=$("#pageIDval").val(),currentValues.postID=$("#postIDval").val(),unlocksNeeded=$("#reactval").val(),$(".countText").text(reactCount+" OF "+unlocksNeeded),isNaN(currentValues.pageID)?FB.api(currentValues.pageID,function(e){return e.error?void $("#sm").text("Invalid Page Name").show().fadeOut(2e3):(currentValues.pageID=e.id,$("#voteSettings").fadeOut(10),setTimeout(validatePost,2e4),void 0)}):($("#voteSettings").fadeOut(10),setTimeout(validatePost,2e4))});