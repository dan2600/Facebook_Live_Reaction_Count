function getRandomInt(t,e){return Math.floor(Math.random()*(e-t+1))+t}function statusChangeCallback(t){"connected"===t.status?startApp():document.getElementById("status").innerHTML="not_authorized"===t.status?"Please log into this app.":"Please log into Facebook."}function checkLoginState(){FB.getLoginStatus(function(t){statusChangeCallback(t)})}function startApp(){FB.api("/me",function(t){document.getElementById("status").innerHTML="Thanks for logging in, "+t.name+"!",$("#logInStuff").fadeOut(200),$("#voteSettings").fadeIn(250)})}function validatePost(){FB.api(currentValues.pageID+"_"+currentValues.postID+"/reactions?limit=1000",function(t){t.error?(console.log("error loading post"),$("#voteSettings").show(),$("#sm").text("invalid Post ID").show().fadeOut(5e3)):realTimeReactions()})}function realTimeReactions(){FB.api(currentValues.pageID+"_"+currentValues.postID+"/reactions?limit=1000",function(t){if(t.error)console.log("error loading post"),$("#voteSettings").fadeIn(250),$("#sm").text("Error Loading Post").show().fadeOut(3e3);else{if(t.data.length<1)return void setTimeout(realTimeReactions,2500);voteArrayCounter(t.data,t.paging.next)}})}function voteArrayCounter(t,e){return $.each(t,function(){reactCount++}),e&&unlocksNeeded>reactCount?(pageLoop(e),"loop"):(applyVotes(),"applied")}function testReacts(){testreactcount+=Math.floor(100*Math.random()),reactCount=testreactcount,applyVotes()}function pageLoop(t){$.getJSON(t,function(t){voteArrayCounter(t.data,t.paging.next)})}function applyVotes(){var t=unlocksNeeded-reactCount;if(0>=t)t=0,$(".barfill").css("width","100%"),$(".countText").text("UNLOCKED!!!!!!");else{var e=parseInt(reactCount/unlocksNeeded*100);$(".barfill").animate({width:e+"%"},800,function(){}),$(".countText").text(reactCount+" OF "+unlocksNeeded),reactCount=0,testmode===!1?setTimeout(realTimeReactions,2e3):setTimeout(testReacts,2e3)}}var appID="1780509962264342",currentValues={pageID:"",postID:""},unlocksNeeded=5,reactCount=0;window.fbAsyncInit=function(){FB.init({appId:appID,cookie:!0,xfbml:!0,version:"v2.8"}),FB.getLoginStatus(function(t){statusChangeCallback(t)})},function(t,e,n){var o,a=t.getElementsByTagName(e)[0];t.getElementById(n)||(o=t.createElement(e),o.id=n,o.src="//connect.facebook.net/en_US/sdk.js",a.parentNode.insertBefore(o,a))}(document,"script","facebook-jssdk"),$("#postIDval").keypress(function(t){return 13==t.which?(t.preventDefault(),event.preventDefault,$("#savebutt").click(),!1):void 0}),$("#savebutt").click(function(){currentValues.pageID=$("#pageIDval").val(),currentValues.postID=$("#postIDval").val(),unlocksNeeded=$("#reactval").val(),$(".countText").text(reactCount+" OF "+unlocksNeeded),isNaN(currentValues.pageID)?FB.api(currentValues.pageID,function(t){return t.error?void $("#sm").text("Invalid Page Name").show().fadeOut(2e3):(currentValues.pageID=t.id,$("#voteSettings").fadeOut(10),setTimeout(validatePost,2e4),void 0)}):($("#voteSettings").fadeOut(10),setTimeout(validatePost,2e4))});var testreactcount=0,testmode=!1;document.addEventListener("keydown",function(t){console.log(t.which),34===t.which&&($("#logInStuff").hide(),$("#voteSettings").hide(),testmode=!0,testReacts())});